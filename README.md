# cres_ytdlp

`cres_ytdlp` is the channel repository for building and publishing the GPU runtime image.

## 渠道仓库构建，源码固定取 `ledge-repo main`

- Build workflow executes in `cres_ytdlp`, but source for compute runtime is synced from `jianshelu/ledge-repo@main` before app-image build.
- Synced allowlist (into `compute/ledge/`):
  - `src/backend/**`
  - `src/shared/**`
  - `src/api/compute/**`
  - `configs/models.yaml`
  - `configs/minio.yaml`
  - `configs/temporal.yaml`
  - `requirements.instance.txt`
- `compute/ledge/` is treated as build artifact content generated by CI sync, not a manually maintained source-of-truth.

## GPU 镜像仅含 compute runtime

- Default image scope is GPU runtime only (`llama.cpp`, compute FastAPI, workers, supervisord/runtime scripts).
- Control-plane and web are excluded from the default GPU image boundary.
- Control-plane code remains on the control host and is synced separately only when explicitly required.
